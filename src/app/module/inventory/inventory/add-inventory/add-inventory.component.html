<form [formGroup]="secSection">
  <div class="p-3">
    <div class="grid">
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>ชื่อสินค้า <span style="color: red">*</span></label>
          <p-dropdown [options]="productsList" optionValue="value" optionLabel="label" formControlName="productId"
            placeholder="เลือกสินค้า">
          </p-dropdown>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>โซน <span style="color: red">*</span></label>
          <p-dropdown [options]="zoneList" optionValue="value" optionLabel="label" formControlName="zoneId"
            placeholder="เลือกโซน">
          </p-dropdown>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>จำนวนสินค้า <span style="color: red">*</span></label>
          <div>
            <input type="number" pInputText formControlName="quantity" />
          </div>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>ราคาขาย <span style="color: red">*</span></label>
          <div>
            <input type="number" pInputText formControlName="priceSale" />
          </div>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>ส่วนลดโซน <span style="color: red">*</span></label>
          <div>
            <input pInputText [value]="getZoneDiscount(secSection.value.zoneId ?? null) + ' %'"  readonly />          </div>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-6">
        <div class="p-fluid">
          <label>สถานะสินค้า <span style="color: red">*</span></label>
          <p-dropdown [options]="statusOptions" formControlName="status"
            placeholder="เลือกสถานะสินค้า">
          </p-dropdown>
        </div>
        <div>
            ราคารวม: {{ getTotalPrice(secSection.value.priceSale, secSection.value.quantity) }}</div>
            <div>ราคาต่อหน่วย: {{ getPricediscount(secSection.value.priceSale, secSection.value.zoneId) }}</div>
            ราคาต่อหน่วยหลังส่วนลด: {{ getTotalPriceWithDiscount(secSection.value.priceSale, secSection.value.quantity, secSection.value.zoneId) }}
      </div>

      
    </div>
  </div>
</form>

<div class="grid mt-5" style=" justify-content: center;">
  <div class="flex gap-4">
    <p-button label="บันทึกข้อมูล" severity="success" (click)="save()" />
    <p-button label="กลับ" severity="info" (click)="goBack()" />
  </div>
</div>

